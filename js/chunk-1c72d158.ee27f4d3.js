(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c72d158"],{"13d5":function(t,e,a){"use strict";var r=a("23e7"),s=a("d58f").left,i=a("a640"),o=a("ae40"),n=i("reduce"),c=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!n||!c},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"99af":function(t,e,a){"use strict";var r=a("23e7"),s=a("d039"),i=a("e8b5"),o=a("861d"),n=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),m=a("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",C=m>=51||!s((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=d("concat"),g=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:i(t)},y=!C||!b;r({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,r,s,i,o=n(this),d=u(o,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?o:arguments[e],g(i)){if(s=c(i.length),p+s>v)throw TypeError(h);for(a=0;a<s;a++,p++)a in i&&l(d,p,i[a])}else{if(p>=v)throw TypeError(h);l(d,p++,i)}return d.length=p,d}})},d58f:function(t,e,a){var r=a("1c0b"),s=a("7b0b"),i=a("44ad"),o=a("50c4"),n=function(t){return function(e,a,n,c){r(a);var l=s(e),u=i(l),d=o(l.length),p=t?d-1:0,m=t?-1:1;if(n<2)while(1){if(p in u){c=u[p],p+=m;break}if(p+=m,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=m)p in u&&(c=a(c,u[p],p,l));return c}};t.exports={left:n(!1),right:n(!0)}},d81d:function(t,e,a){"use strict";var r=a("23e7"),s=a("b727").map,i=a("1dde"),o=a("ae40"),n=i("map"),c=o("map");r({target:"Array",proto:!0,forced:!n||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},e4c0:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-4"},[t._m(0),a("div",{staticClass:"row flex-column-reverse flex-md-row"},[a("div",{staticClass:"col-md-8"},[a("loading",{attrs:{active:t.isLoading,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),t.tempCart.length>0?a("div",{staticClass:"table-responsive"},[a("h2",{staticClass:"section-title"},[t._v("購物車")]),a("table",{staticClass:"table bg-white"},[t._m(1),a("tbody",t._l(t.tempCart,(function(e,r){return a("tr",{key:e.product.id},[a("td",[a("div",{staticClass:"media"},[a("img",{staticClass:"mr-3",staticStyle:{"max-width":"150px"},attrs:{src:e.product.image,alt:e.product.title}}),a("div",{staticClass:"media-body"},[a("router-link",{staticClass:"h5 font-weight-bold mb-0 d-block",attrs:{to:"/games/"+e.product.id}},[t._v(t._s(e.product.title))]),e.coupon?a("div",{staticClass:"text-secondary"},[t._v(t._s(e.coupon.title))]):t._e(),a("small",{staticClass:"text-muted"},[t._v("$"+t._s(t._f("moneyFilter")(e.product.price)))])],1)])]),a("td",[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-light",attrs:{disabled:e.qty<=1,type:"btton"},on:{click:function(t){e.qty--}}},[a("font-awesome-icon",{attrs:{icon:"minus"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.qty,expression:"item.qty",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:e.qty},on:{input:function(a){a.target.composing||t.$set(e,"qty",t._n(a.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(t){e.qty++}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1)])])]),a("td",{staticClass:"text-right"},[a("strong",{staticClass:"mr-3",class:{"text-primary":e.coupon}},[t._v("$"+t._s(t._f("moneyFilter")(e.product.price*e.qty)))]),a("a",{staticClass:"text-muted",attrs:{href:"#",title:"移除"},on:{click:function(e){return e.preventDefault(),t.delFormCart(r)}}},[a("font-awesome-icon",{attrs:{icon:"times"}})],1)])])})),0),a("tfoot",[a("tr",[a("td"),a("td"),a("td",{staticClass:"text-right"},[a("strong",[t._v("總計：$"+t._s(t._f("moneyFilter")(t.totalCart)))])])])])]),a("div",{staticClass:"text-right px-2"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.tempCartToServer}},[t._v("開始結帳")])])]):a("div",[a("h2",{staticClass:"section-title"},[t._v("購物車")]),a("p",[t._v("需要推薦遊戲給你嗎？")]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/column"}},[t._v("好！")])],1)],1),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"color-block color-block-secondary mb-4",on:{click:t.copyToClipboard}},[t._m(2),a("div",{staticClass:"block-backdrop"},[t._v("weekly discount")])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-wizard"},[a("div",{staticClass:"form-wizard-step active"},[t._v("1.確認購物車")]),a("div",{staticClass:"form-wizard-step"},[t._v("2.填寫訂單資訊")]),a("div",{staticClass:"form-wizard-step"},[t._v("3.送出訂單")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",[a("th",[t._v("商品")]),a("th",{attrs:{width:"200"}}),a("th",{attrs:{width:"150"}},[t._v("小計")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-content text-right"},[a("h2",{staticClass:"block-title"},[t._v("超級招待券")]),a("span",{staticClass:"block-subtitle"},[t._v("點擊領取9折招待券")])])}],i=(a("99af"),a("d81d"),a("13d5"),a("a434"),{data:function(){return{tempCart:[],isLoading:!1}},methods:{delFormCart:function(t){this.tempCart.splice(t,1),this.setCart()},setCart:function(){sessionStorage.setItem("cart",JSON.stringify(this.tempCart)),this.$bus.$emit("cart:updateCart")},tempCartToServer:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("steam-store","/cart"),e=this;e.$http.all(e.tempCart.map((function(a){var r={product_id:a.product.id,qty:a.qty};return e.$http.post(t,{data:r})}))).then((function(){e.$router.push("/order_form")}))},getCart:function(){this.tempCart=JSON.parse(sessionStorage.getItem("cart"))||[]},copyToClipboard:function(){var t=document.getElementById("copy");t.value="90%awesome",t.select(),document.execCommand("copy"),t.value="",t.blur(),this.$bus.$emit("message:push","已複製折扣碼！","success")}},computed:{totalCart:function(){return this.setCart(),this.tempCart.reduce((function(t,e){return t+e.product.price*e.qty}),0)}},created:function(){this.getCart()}}),o=i,n=a("2877"),c=Object(n["a"])(o,r,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-1c72d158.ee27f4d3.js.map