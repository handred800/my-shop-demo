(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8492bdde"],{1588:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"p-4"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-2"},[r("div",{staticClass:"sticky-top py-3 d-lg-block d-none"},[r("h4",{staticClass:"section-title"},[r("font-awesome-icon",{attrs:{icon:"search"}}),e._v("條件搜尋 ")],1),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("名稱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.title,expression:"filter.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入遊戲名稱"},domProps:{value:e.filter.title},on:{input:function(t){t.target.composing||e.$set(e.filter,"title",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("類型")]),e._l(e.categoryTag,(function(t,i){return r("label",{key:t,staticClass:"form-check pl-0",attrs:{for:"category"+i}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.category,expression:"filter.category"}],attrs:{type:"checkbox",name:"",id:"category"+i},domProps:{value:t,checked:Array.isArray(e.filter.category)?e._i(e.filter.category,t)>-1:e.filter.category},on:{change:function(r){var i=e.filter.category,a=r.target,o=!!a.checked;if(Array.isArray(i)){var c=t,s=e._i(i,c);a.checked?s<0&&e.$set(e.filter,"category",i.concat([c])):s>-1&&e.$set(e.filter,"category",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter,"category",o)}}}),e._v(" "+e._s(t)+" ")])}))],2),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("價格")]),r("label",{staticClass:"form-check pl-0",attrs:{for:"onsale"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.onSale,expression:"filter.onSale"}],attrs:{type:"checkbox",name:"",id:"onsale",value:"onSale"},domProps:{checked:Array.isArray(e.filter.onSale)?e._i(e.filter.onSale,"onSale")>-1:e.filter.onSale},on:{change:function(t){var r=e.filter.onSale,i=t.target,a=!!i.checked;if(Array.isArray(r)){var o="onSale",c=e._i(r,o);i.checked?c<0&&e.$set(e.filter,"onSale",r.concat([o])):c>-1&&e.$set(e.filter,"onSale",r.slice(0,c).concat(r.slice(c+1)))}else e.$set(e.filter,"onSale",a)}}}),e._v(" 特價中 ")]),r("label",{staticClass:"form-check pl-0",attrs:{for:"0up"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"0up"},domProps:{value:0,checked:e._q(e.filter.price,0)},on:{change:function(t){return e.$set(e.filter,"price",0)}}}),e._v(" 價格不限 ")]),r("label",{staticClass:"form-check pl-0",attrs:{for:"500low"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"500low"},domProps:{value:500,checked:e._q(e.filter.price,500)},on:{change:function(t){return e.$set(e.filter,"price",500)}}}),e._v(" 500元以下 ")]),r("label",{staticClass:"form-check pl-0",attrs:{for:"300low"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"300low"},domProps:{value:300,checked:e._q(e.filter.price,300)},on:{change:function(t){return e.$set(e.filter,"price",300)}}}),e._v(" 300元以下 ")]),r("label",{staticClass:"form-check pl-0",attrs:{for:"150low"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"150low"},domProps:{value:150,checked:e._q(e.filter.price,150)},on:{change:function(t){return e.$set(e.filter,"price",150)}}}),e._v(" 150元以下 ")])]),r("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:e.filterProducts}},[e._v("篩選")])])]),r("div",{staticClass:"col-lg-10"},[r("div",{staticClass:"sticky-top p-3 d-block d-lg-none"},[r("h4",{staticClass:"section-title",attrs:{"data-toggle":"collapse","data-target":"#search"}},[r("font-awesome-icon",{attrs:{icon:"search"}}),e._v("條件搜尋 ")],1),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"search"}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-md-4 form-group"},[r("label",{attrs:{for:""}},[e._v("名稱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.title,expression:"filter.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入遊戲名稱"},domProps:{value:e.filter.title},on:{input:function(t){t.target.composing||e.$set(e.filter,"title",t.target.value)}}})]),r("div",{staticClass:"col-md-4 form-group"},[r("label",{attrs:{for:""}},[e._v("類型")]),r("div",{staticClass:"form-inline"},e._l(e.categoryTag,(function(t,i){return r("label",{key:t,staticClass:"form-check mr-4 pl-0",attrs:{for:"category"+i}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.category,expression:"filter.category"}],attrs:{type:"checkbox",id:"category"+i},domProps:{value:t,checked:Array.isArray(e.filter.category)?e._i(e.filter.category,t)>-1:e.filter.category},on:{change:function(r){var i=e.filter.category,a=r.target,o=!!a.checked;if(Array.isArray(i)){var c=t,s=e._i(i,c);a.checked?s<0&&e.$set(e.filter,"category",i.concat([c])):s>-1&&e.$set(e.filter,"category",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter,"category",o)}}}),e._v(" "+e._s(t)+" ")])})),0)]),r("div",{staticClass:"col-md-4 form-group"},[r("label",{attrs:{for:""}},[e._v("價格")]),r("div",{staticClass:"form-inline"},[r("label",{staticClass:"form-check mr-4 pl-0",attrs:{for:"onsale"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.onSale,expression:"filter.onSale"}],attrs:{type:"checkbox",name:"",id:"onsale",value:"onSale"},domProps:{checked:Array.isArray(e.filter.onSale)?e._i(e.filter.onSale,"onSale")>-1:e.filter.onSale},on:{change:function(t){var r=e.filter.onSale,i=t.target,a=!!i.checked;if(Array.isArray(r)){var o="onSale",c=e._i(r,o);i.checked?c<0&&e.$set(e.filter,"onSale",r.concat([o])):c>-1&&e.$set(e.filter,"onSale",r.slice(0,c).concat(r.slice(c+1)))}else e.$set(e.filter,"onSale",a)}}}),e._v(" 特價中 ")]),r("label",{staticClass:"form-check mr-4 pl-0",attrs:{for:"0up"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"0up"},domProps:{value:0,checked:e._q(e.filter.price,0)},on:{change:function(t){return e.$set(e.filter,"price",0)}}}),e._v(" 價格不限 ")]),r("label",{staticClass:"form-check mr-4 pl-0",attrs:{for:"500low"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"500low"},domProps:{value:500,checked:e._q(e.filter.price,500)},on:{change:function(t){return e.$set(e.filter,"price",500)}}}),e._v(" 500元以下 ")]),r("label",{staticClass:"form-check mr-4 pl-0",attrs:{for:"300low"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"300low"},domProps:{value:300,checked:e._q(e.filter.price,300)},on:{change:function(t){return e.$set(e.filter,"price",300)}}}),e._v(" 300元以下 ")]),r("label",{staticClass:"form-check mr-4 pl-0",attrs:{for:"150low"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.price,expression:"filter.price"}],attrs:{type:"radio",name:"filter_price",id:"150low"},domProps:{value:150,checked:e._q(e.filter.price,150)},on:{change:function(t){return e.$set(e.filter,"price",150)}}}),e._v(" 150元以下 ")])])]),r("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:e.filterProducts}},[e._v("篩選")])])])]),r("div",{staticClass:"product-list-wrapper",class:{"is-loading":e.isLoading}},[r("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),e.filteredProducts.length>0?r("transition-group",{staticClass:"form-row",attrs:{name:"product-filter",tag:"div"}},e._l(e.filteredProducts,(function(t){return r("div",{key:t.id,staticClass:"col-sm-6 col-lg-4 mb-3 product-filter"},[r("div",{staticClass:"product-wrapper",class:{"product-disabled":!t.is_enabled},style:"backgroundImage:url("+t.image+")",on:{click:function(r){return e.clickProduct(t)}}},[t.is_enabled?r("span",{staticClass:"product-tag"},[e._v(e._s(t.category))]):r("span",{staticClass:"product-tag"},[e._v("尚無現貨")]),r("div",{staticClass:"product-content"},[r("div",[r("h5",{staticClass:"product-title"},[e._v(e._s(t.title))]),t.price===t.origin_price?r("span",[e._v("$"+e._s(e._f("moneyFilter")(t.price)))]):r("span",[r("span",{staticClass:"text-primary mr-1"},[e._v("$"+e._s(e._f("moneyFilter")(t.price)))]),r("small",[r("s",{staticClass:"text-muted"},[e._v("$"+e._s(e._f("moneyFilter")(t.origin_price)))])])])]),r("div",[t.is_enabled?r("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),e.addToCart(t)}}},[r("font-awesome-icon",{attrs:{icon:"shopping-cart"}})],1):e._e()])])])])})),0):r("h3",[e._v("查無遊戲 (´_ゝ`)")])],1)])])])},a=[],o=(r("99af"),r("4de4"),r("caad"),r("c975"),r("d81d"),r("45fc"),r("2532"),r("1157")),c=r.n(o),s={data:function(){return{categoryTag:[],products:[],filteredProducts:[],isLoading:!1,filter:{title:"",category:[],onSale:!1,price:0}}},methods:{getProducts:function(){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("steam-store","/products/all"),t=this;t.isLoading=!0,t.$http.get(e).then((function(e){t.products=e.data.products;var r=e.data.products.map((function(e){return e.category}));t.categoryTag=r.filter((function(e,t,r){return r.indexOf(e)===t})),t.filterProducts(),t.isLoading=!1}))},filterProducts:function(){c()("#search").collapse("hide");var e=this,t=e.filter;e.filteredProducts=e.products,""!==t.title&&(e.filteredProducts=e.filteredProducts.filter((function(e){return e.title.toLowerCase().includes(t.title.toLowerCase())}))),t.category.length>0&&(e.filteredProducts=e.filteredProducts.filter((function(e){return t.category.some((function(t){return t===e.category}))}))),t.onSale&&(e.filteredProducts=e.filteredProducts.filter((function(e){return e.origin_price!==e.price}))),t.price>0&&(e.filteredProducts=e.filteredProducts.filter((function(e){return t.price>e.price})))},addToCart:function(e){this.$bus.$emit("cart:addToCart",e,1)},clickProduct:function(e){e.is_enabled?this.$router.push("/games/".concat(e.id)):this.$bus.$emit("message:push","商品缺貨中")}},mounted:function(){c()("#search").collapse("hide")},created:function(){this.getProducts(),this.filter.onSale=this.$route.query.onSale}},l=s,n=(r("d40e"),r("2877")),d=Object(n["a"])(l,i,a,!1,null,"61fc2950",null);t["default"]=d.exports},2532:function(e,t,r){"use strict";var i=r("23e7"),a=r("5a34"),o=r("1d80"),c=r("ab13");i({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~String(o(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,r){var i=r("861d"),a=r("c6b6"),o=r("b622"),c=o("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==a(e))}},"45fc":function(e,t,r){"use strict";var i=r("23e7"),a=r("b727").some,o=r("a640"),c=r("ae40"),s=o("some"),l=c("some");i({target:"Array",proto:!0,forced:!s||!l},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,r){var i=r("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"99af":function(e,t,r){"use strict";var i=r("23e7"),a=r("d039"),o=r("e8b5"),c=r("861d"),s=r("7b0b"),l=r("50c4"),n=r("8418"),d=r("65f0"),f=r("1dde"),u=r("b622"),p=r("2d00"),m=u("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",h=p>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),y=f("concat"),_=function(e){if(!c(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},b=!h||!y;i({target:"Array",proto:!0,forced:b},{concat:function(e){var t,r,i,a,o,c=s(this),f=d(c,0),u=0;for(t=-1,i=arguments.length;t<i;t++)if(o=-1===t?c:arguments[t],_(o)){if(a=l(o.length),u+a>v)throw TypeError(g);for(r=0;r<a;r++,u++)r in o&&n(f,u,o[r])}else{if(u>=v)throw TypeError(g);n(f,u++,o)}return f.length=u,f}})},ab13:function(e,t,r){var i=r("b622"),a=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(i){}}return!1}},c975:function(e,t,r){"use strict";var i=r("23e7"),a=r("4d64").indexOf,o=r("a640"),c=r("ae40"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,n=o("indexOf"),d=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!n||!d},{indexOf:function(e){return l?s.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},caad:function(e,t,r){"use strict";var i=r("23e7"),a=r("4d64").includes,o=r("44d2"),c=r("ae40"),s=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!s},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d40e:function(e,t,r){"use strict";var i=r("fdf3"),a=r.n(i);a.a},d81d:function(e,t,r){"use strict";var i=r("23e7"),a=r("b727").map,o=r("1dde"),c=r("ae40"),s=o("map"),l=c("map");i({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},fdf3:function(e,t,r){}}]);
//# sourceMappingURL=chunk-8492bdde.48623a1e.js.map