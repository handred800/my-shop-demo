(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b5b751c"],{"0dd4":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"p-4",class:{"is-loading":t.isLoading}},[t._m(0),a("loading",{attrs:{active:t.isLoading,"is-full-page":!1},on:{"update:active":function(s){t.isLoading=s}}}),t.orderData.is_paid?a("div",{staticClass:"row"},[t._m(1),a("div",{staticClass:"col-md-4 d-flex justify-content-center align-items-center"},[a("div",{staticClass:"text-center pr-md-5 mr-md-5"},[a("h2",{staticClass:"section-title"},[t._v("付款成功")]),a("p",{staticClass:"lead"},[t._v("開始暢玩你的遊戲吧！")]),a("p",[t._v("或是...")]),a("router-link",{staticClass:"btn btn-lg btn-secondary",attrs:{to:"/games"}},[t._v("買更多遊戲！")])],1)])]):a("div",[t.orderData.total?a("div",{staticClass:"row flex-column-reverse flex-md-row"},[a("div",{staticClass:"col-md-7"},[a("h2",{staticClass:"section-title"},[t._v("訂單資訊")]),a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[a("small",[t._v("購買人姓名")]),a("p",[t._v(t._s(t.orderData.user.name))])]),a("li",{staticClass:"list-group-item"},[a("small",[t._v("Email")]),a("p",[t._v(t._s(t.orderData.user.email))])]),a("li",{staticClass:"list-group-item"},[a("small",[t._v("連絡電話")]),a("p",[t._v(t._s(t.orderData.user.tel))])]),a("li",{staticClass:"list-group-item"},[a("small",[t._v("收件地址")]),a("p",[t._v(t._s(t.orderData.user.address))])]),a("li",{staticClass:"list-group-item"},[a("small",[t._v("備註")]),a("p",[t._v(t._s(t.orderData.message))])]),a("li",{staticClass:"list-group-item"},[a("small",[t._v("付款狀態")]),t.orderData.is_paid?a("p",{staticClass:"text-primary"},[t._v("已付款")]):a("p",{staticClass:"text-danger"},[t._v("尚未付款")])]),a("li",{staticClass:"list-group-item text-right"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.payOrder}},[a("font-awesome-icon",{attrs:{icon:"wallet"}}),t._v("確認付款 ")],1)])])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"sticky-top"},[a("h2",{staticClass:"section-title"},[t._v("商品明細")]),a("ul",{staticClass:"list-unstyled list-group mb-3"},[t._l(t.orderData.products,(function(s){return a("li",{key:s.id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[a("div",{staticClass:"flex-shrink-1"},[a("h5",{staticClass:"font-weight-bold mb-0"},[t._v(t._s(s.product.title))]),s.coupon?a("div",{staticClass:"text-secondary"},[t._v(t._s(s.coupon.title))]):t._e(),a("small",{staticClass:"text-muted"},[t._v(t._s(t._f("moneyFilter")(s.product.price))+" X "+t._s(s.qty))])]),a("div",{staticClass:"text-nowrap"},[a("strong",{staticClass:"mr-3",class:{"text-primary":s.coupon}},[t._v("$"+t._s(t._f("moneyFilter")(s.final_total)))])])])})),a("li",{staticClass:"list-group-item text-right"},[a("strong",[t._v("總計：$"+t._s(t._f("moneyFilter")(t.orderData.total)))])])],2)])])]):t._e()])],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"form-wizard"},[a("div",{staticClass:"form-wizard-step"},[t._v("1.確認購物車")]),a("div",{staticClass:"form-wizard-step"},[t._v("2.填寫訂單資訊")]),a("div",{staticClass:"form-wizard-step active"},[t._v("3.完成購買")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-8"},[e("img",{staticClass:"img-fluid mb-3",attrs:{src:a("7a1c"),alt:""}})])}],r=(a("99af"),{data:function(){return{isLoading:!1,orderId:"",orderData:{}}},methods:{getOrder:function(){this.isLoading=!0;var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("steam-store","/order/").concat(this.orderId),s=this;this.$http.get(t).then((function(t){s.orderData=t.data.order,s.isLoading=!1}))},payOrder:function(){this.isLoading=!0;var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("steam-store","/pay/").concat(this.orderId),s=this;this.$http.post(t).then((function(t){t.data.success?(s.isLoading=!1,s.$bus.$emit("message:push",t.data.message,"success"),s.getOrder()):s.$bus.$emit("message:push",t.data.message,"danger")}))},clearTempCart:function(){this.$bus.$emit("cart:updateCart"),sessionStorage.setItem("cart",JSON.stringify([]))}},created:function(){this.clearTempCart(),this.orderId=this.$route.params.orderId,this.getOrder()}}),o=r,c=(a("ee6a"),a("2877")),l=Object(c["a"])(o,e,i,!1,null,"8c11fdea",null);s["default"]=l.exports},"7a1c":function(t,s,a){t.exports=a.p+"img/checkout.ffdfd33e.png"},"99af":function(t,s,a){"use strict";var e=a("23e7"),i=a("d039"),r=a("e8b5"),o=a("861d"),c=a("7b0b"),l=a("50c4"),n=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),m=a("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,_="Maximum allowed index exceeded",g=m>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),h=u("concat"),C=function(t){if(!o(t))return!1;var s=t[v];return void 0!==s?!!s:r(t)},b=!g||!h;e({target:"Array",proto:!0,forced:b},{concat:function(t){var s,a,e,i,r,o=c(this),u=d(o,0),p=0;for(s=-1,e=arguments.length;s<e;s++)if(r=-1===s?o:arguments[s],C(r)){if(i=l(r.length),p+i>f)throw TypeError(_);for(a=0;a<i;a++,p++)a in r&&n(u,p,r[a])}else{if(p>=f)throw TypeError(_);n(u,p++,r)}return u.length=p,u}})},ee05:function(t,s,a){},ee6a:function(t,s,a){"use strict";var e=a("ee05"),i=a.n(e);i.a}}]);
//# sourceMappingURL=chunk-6b5b751c.6b438ffc.js.map